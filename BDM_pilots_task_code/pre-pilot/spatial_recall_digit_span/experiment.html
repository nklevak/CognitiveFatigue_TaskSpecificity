<!DOCTYPE html>
<html>
<head>
  <title>Memory Game</title>

  <!-- Load libraries -->
  <script src="https://unpkg.com/jspsych@7.3.3"></script>

  <!-- Initialize jsPsych -->
  <script src="./js/init-jspsych.js"></script>

  <!-- Load jsPsych plug-ins -->
  <script src="./js/plugin-spatial-recall.js"></script>
  <script src="./js/plugin-screen-check.js"></script>
  <script src="./js/plugin-digit-span-recall.js"></script>
  <script src="https://unpkg.com/@jspsych/plugin-image-keyboard-response@1.1.1"></script>
  <script src="https://unpkg.com/@jspsych/plugin-preload@1.1.1"></script>
  <script src="https://unpkg.com/@jspsych/plugin-instructions@1.1.3"></script>
  <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.1.2"></script>

  <!-- Load experiment -->
  <script src="./js/spatial-recall.js" type="text/javascript"></script>
  <script src="./js/digit-span-vars.js" type="text/javascript"></script>

  <!-- Load CSS styles -->
  <link href="https://unpkg.com/jspsych@7.3.3/css/jspsych.css" rel="stylesheet" type="text/css" />
  <link href="./js/jspsych_digitspan.css" rel="stylesheet" type="text/css" />

</head>
<body></body>
<script>

// INITIALIZE TIMELINE
var timeline = [];


var overall_debrief_block = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: 
    `<p>Great work! This experiment is over now.</p>`
};

// GENERAL TASK INSTRUCTIONS
timeline.push(gen_instructions);

// SPATIAL RECALL TASK (forward span only)
timeline.push(sr_instructions_01);
timeline.push(sr_recall_forwards);

// DIGIT SPAN TASK
// practice instructions
timeline.push(ds_instructions_1_practice);
// practice demo
timeline.push(demo_procedure);
// actual instructions
timeline.push(ds_instructions_1);
// additional things
timeline.push(test_procedure);
// conclusion
timeline.push(conclusion);

// overall debrief (located in init file)
timeline.push(overall_debrief_block)

// RUN THE EXPERIMENT
jsPsych.run(timeline);

</script>
</html>